<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/_fragments :: head(~{::title})">
<title>类型新增</title>
</head>
<body>

    <!--头部-->
    <nav th:replace="admin/_fragments :: menu(2)"></nav>
   
    <!--中间-->
    <div id="waypoint" class="m-container-small m-paddding-tb-big m-minHight">
        <div class="ui container">
            <form id="oneword-form" class="ui form" th:object="${oneword}" th:action="@{/1120/onewords}" method="post">
                <!-- 隐藏字段 -->
                <input type="hidden" name="isPublished">
                <input type="hidden" name="id" th:value="*{id}">
                <!-- 图片地址 -->
                <div class="field">
                    <div class="ui labeled input">
                        <label class="ui teal basic label">图片地址</label>
                        <input type="text" name="picture" placeholder="图片地址(建议图片大小：1000*400)" th:value="*{picture}">
                    </div>
                </div>
                <!-- 内容 -->
                 <div class="field">
                    <div class="ui labeled input">
                        <label class="ui teal basic label">一句内容</label>
                        <input type="text" name="content" placeholder="每日一句内容(60字之内)" maxlength="60" th:value="*{content}">
                    </div>
                </div>
                <div class="ui error message"></div>
                <!-- 提示信息 -->
                 <div class="ui negative message" th:if="${#fields.hasAnyErrors()}">
                    <i class="close icon"></i>
                    <ul th:each="err : ${#fields.allErrors()}">
                        <li th:text="${err}"></li>
                    </ul>
                </div>
                <div class="ui right aligned container">
                    <button type="button" class="ui button" onclick="window.history.go(-1)">返回</button>
                    <button type="button" id="save-btn" class="ui secondary button">保存</button>
                    <button type="button" id="publish-btn" class="ui teal button">发布</button>
                 </div>
            </form>
        </div>
    </div>
    
    <!--底部-->
    <footer th:replace="admin/_fragments :: footer"></footer>
       
    <!-- script -->
    <!--/*/ <th:block th:replace="admin/_fragments :: script"> /*/-->
    <!--/*/ </th:block> /*/-->    
<script>
	//表单验证
	$('.ui.form').form({
		on : 'blur',
		fields : {
			picture : {
				identifier : 'picture',
				rules : [ {
					type : 'empty',
					prompt : '请输入图片地址(建议图片大小：1000*400)'
				} ]
			},
			content : {
				identifier : 'content',
				rules : [ {
					type : 'empty',
					prompt : '请输入内容(60字之内)'
				} ]
			}
		}
	});
	
	//保存每日一句
	$('#save-btn').click(function(){
		$('[name="isPublished"]').val(false);
		$('#oneword-form').submit();
	});
	//发布每日一句
	$('#publish-btn').click(function(){
		$('[name="isPublished"]').val(true);
		$('#oneword-form').submit();
	});
</script>    
</body>
</html>